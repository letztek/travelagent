# Specification: 實作 AI 資訊缺口偵測 (US-102)

## 概述
本 Track 的目標是在顧問填寫完需求後，利用 AI 進行「資訊缺口分析 (Gap Analysis)」，主動提醒遺漏的重要資訊（例如：有長輩但未填寫無障礙需求），確保後續生成的行程品質。

## 業務需求 (US-102)
- **觸發時機**：顧問填寫完需求表單提交後，或在需求詳情頁點擊「AI 診斷」。
- **AI 診斷邏輯**：
  - 檢查旅客組成與備註的邏輯一致性（例：有嬰兒 -> 是否需要嬰兒床/座椅？）。
  - 檢查特殊地點的必要配備（例：去高山 -> 是否提醒月份/禦寒裝備？）。
  - 檢查預算與偏好的合理性。
- **產出結果**：
  - 一份結構化的「缺失資訊清單」。
  - 每一項包含：標題、建議原因、建議問法。
- **使用者互動**：
  - 顧問可選擇「忽略並繼續生成」或「返回修改」。

## 技術規範
- **AI Skill**: 建立 `gap-analyzer` skill，負責邏輯檢查。
- **Output Schema**: 使用 Zod 定義診斷結果的 JSON 結構。
- **UI 呈現**: 使用 Shadcn UI 的 Alert 或 Modal 顯示診斷結果。
- **API**: Next.js Server Action 呼叫 AI。

## 資料模型
- 此功能為即時診斷，暫不強制要求存入資料庫，但可考慮記錄診斷日誌。
